<!DOCTYPE html>

<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title>ALLAH HOUSES</title>
    <link rel="icon" href="img/Black Green Gold Modern Islamic Logo Template (1).png">

    <link rel="stylesheet" href="css/dd.css">
    
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
     <meta name="viewport" content="width=device-width, initial-scale=1.0" >

   </head>
<body>
  
  <img src="img/Black Green Gold Modern Islamic Logo Template.png" alt="" class="bla">
  
<div id="ResultContainer">

</div>
    <div class="container"> 
      
        
       
     
           <div class="login-box">
            <form>
              <div class="user-box">
                <input type="text" placeholder= "City 1" name="q" class="city" id="city1">
                
              </div>
              <div class="user-box">
                <input type="text" placeholder="City 2" name="q" class="city" id="city2" >
                
              </div>

              <div class="user-box">
                <input type="text" placeholder="Country" name="q" class="city"  >
                
              </div>

              <a href="#" id="submit">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                Submit
              </a>
            </form>

            <div class="flowers">
              <div class="flower flower--1">
                <div class="flower__leafs flower__leafs--1">
                  <div class="flower__leaf flower__leaf--1"></div>
                  <div class="flower__leaf flower__leaf--2"></div>
                  <div class="flower__leaf flower__leaf--3"></div>
                  <div class="flower__leaf flower__leaf--4"></div>
                  <div class="flower__white-circle"></div>
          
                  <div class="flower__light flower__light--1"></div>
                  <div class="flower__light flower__light--2"></div>
                  <div class="flower__light flower__light--3"></div>
                  <div class="flower__light flower__light--4"></div>
                  <div class="flower__light flower__light--5"></div>
                  <div class="flower__light flower__light--6"></div>
                  <div class="flower__light flower__light--7"></div>
                  <div class="flower__light flower__light--8"></div>
          
                </div>
                <div class="flower__line">
                  <div class="flower__line__leaf flower__line__leaf--1"></div>
                  <div class="flower__line__leaf flower__line__leaf--2"></div>
                  <div class="flower__line__leaf flower__line__leaf--3"></div>
                  <div class="flower__line__leaf flower__line__leaf--4"></div>
                  <div class="flower__line__leaf flower__line__leaf--5"></div>
                  <div class="flower__line__leaf flower__line__leaf--6"></div>
                </div>
              </div>
          
              <div class="flower flower--2">
                <div class="flower__leafs flower__leafs--2">
                  <div class="flower__leaf flower__leaf--1"></div>
                  <div class="flower__leaf flower__leaf--2"></div>
                  <div class="flower__leaf flower__leaf--3"></div>
                  <div class="flower__leaf flower__leaf--4"></div>
                  <div class="flower__white-circle"></div>
          
                  <div class="flower__light flower__light--1"></div>
                  <div class="flower__light flower__light--2"></div>
                  <div class="flower__light flower__light--3"></div>
                  <div class="flower__light flower__light--4"></div>
                  <div class="flower__light flower__light--5"></div>
                  <div class="flower__light flower__light--6"></div>
                  <div class="flower__light flower__light--7"></div>
                  <div class="flower__light flower__light--8"></div>
          
                </div>
                <div class="flower__line">
                  <div class="flower__line__leaf flower__line__leaf--1"></div>
                  <div class="flower__line__leaf flower__line__leaf--2"></div>
                  <div class="flower__line__leaf flower__line__leaf--3"></div>
                  <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
              </div>
          
              <div class="flower flower--3">
                <div class="flower__leafs flower__leafs--3">
                  <div class="flower__leaf flower__leaf--1"></div>
                  <div class="flower__leaf flower__leaf--2"></div>
                  <div class="flower__leaf flower__leaf--3"></div>
                  <div class="flower__leaf flower__leaf--4"></div>
                  <div class="flower__white-circle"></div>
          
                  <div class="flower__light flower__light--1"></div>
                  <div class="flower__light flower__light--2"></div>
                  <div class="flower__light flower__light--3"></div>
                  <div class="flower__light flower__light--4"></div>
                  <div class="flower__light flower__light--5"></div>
                  <div class="flower__light flower__light--6"></div>
                  <div class="flower__light flower__light--7"></div>
                  <div class="flower__light flower__light--8"></div>
          
                </div>
                <div class="flower__line">
                  <div class="flower__line__leaf flower__line__leaf--1"></div>
                  <div class="flower__line__leaf flower__line__leaf--2"></div>
                  <div class="flower__line__leaf flower__line__leaf--3"></div>
                  <div class="flower__line__leaf flower__line__leaf--4"></div>
                </div>
              </div>
          
              <div class="grow-ans" style="--d:1.2s">
                <div class="flower__g-long">
                  <div class="flower__g-long__top"></div>
                  <div class="flower__g-long__bottom"></div>
                </div>
              </div>
          
              <div class="growing-grass">
                <div class="flower__grass flower__grass--1">
                  <div class="flower__grass--top"></div>
                  <div class="flower__grass--bottom"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                  <div class="flower__grass__overlay"></div>
                </div>
              </div>
          
              <div class="growing-grass">
                <div class="flower__grass flower__grass--2">
                  <div class="flower__grass--top"></div>
                  <div class="flower__grass--bottom"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--1"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--2"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--3"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--4"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--5"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--6"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--7"></div>
                  <div class="flower__grass__leaf flower__grass__leaf--8"></div>
                  <div class="flower__grass__overlay"></div>
                </div>
              </div>
          
              <div class="grow-ans" style="--d:2.4s">
                <div class="flower__g-right flower__g-right--1">
                  <div class="leaf"></div>
                </div>
              </div>
          
              <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-right flower__g-right--2">
                  <div class="leaf"></div>
                </div>
              </div>
          
              <div class="grow-ans" style="--d:2.8s">
                <div class="flower__g-front">
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8">
                    <div class="flower__g-front__leaf"></div>
                  </div>
                  <div class="flower__g-front__line"></div>
                </div>
              </div>
          
              <div class="grow-ans" style="--d:3.2s">
                <div class="flower__g-fr">
                  <div class="leaf"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
                  <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
                </div>
              </div>
          
              <div class="long-g long-g--0">
                <div class="grow-ans" style="--d:3s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:2.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.4s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--1">
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.8s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--2">
                <div class="grow-ans" style="--d:4s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:4.4s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:4.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--3">
                <div class="grow-ans" style="--d:4s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--4">
                <div class="grow-ans" style="--d:4s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--5">
                <div class="grow-ans" style="--d:4s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:4.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
          
              <div class="long-g long-g--6">
                
                
               
              </div>
          
              <div class="long-g long-g--7">
                <div class="grow-ans" style="--d:3s">
                  <div class="leaf leaf--0"></div>
                </div>
                <div class="grow-ans" style="--d:3.2s">
                  <div class="leaf leaf--1"></div>
                </div>
                <div class="grow-ans" style="--d:3.5s">
                  <div class="leaf leaf--2"></div>
                </div>
                <div class="grow-ans" style="--d:3.6s">
                  <div class="leaf leaf--3"></div>
                </div>
              </div>
            </div>
          </div>

          
    
  </div>
  
  
  <div class="sidebar " >
    <div class="logo-details">
      <i class='bx bx-home-heart'></i>
        <div class="logo_name">ALLAH Houses</div>
        <i class='bx bx-menu' id="btn" ></i>
    </div>
   
    <ul class="nav-list">
      <li>
          <i class='bx bx-search' ></i>
         <input type="text" placeholder="Search...">
         <span class="tooltip">Search</span>
      </li>
      <li>
        <a href="index.html">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">HOME</span>
        </a>
         <span class="tooltip">HOME</span>
      </li>
      <li>
       <a href="html/About me.html">
         <i class='bx bx-user' ></i>
         <span class="links_name">About me</span>
       </a>
       <span class="tooltip">About me</span>
     </li>
     
     
     

     <li>
      <a href="html/Date.html">
       <i class='bx bx-calendar'></i>
        <span class="links_name">DATE</span>
      </a>
      <span class="tooltip">DATE</span>
    </li>
       
    <li>
      <a href="html/heure.html">
       <i class='bx bx-time-five'></i>
        <span class="links_name">TIME</span>
      </a>
      <span class="tooltip">TIME</span>
    </li>
     
    <li>
      <a href="html/ABOUT.html">
       <i class='bx bx-group'></i>
        <span class="links_name">About</span>
      </a>
      <span class="tooltip">About</span>
    </li>

    <li>
      <a href="html/Contact us.html">
        <i class='bx bx-chat' ></i>
        <span class="links_name">Contact us</span>
      </a>
      <span class="tooltip">Contact us</span>
    </li>
       
     
    </ul>
  </div>

 
<body class="not-loaded">
  
  
</body>
  
  
  <script>
  let sidebar = document.querySelector(".sidebar");
  let closeBtn = document.querySelector("#btn");
  let searchBtn = document.querySelector(".bx-search");

  closeBtn.addEventListener("click", ()=>{
    sidebar.classList.toggle("open");
    menuBtnChange();//calling the function(optional)
  });

  searchBtn.addEventListener("click", ()=>{ // Sidebar open when you click on the search iocn
    sidebar.classList.toggle("open");
    menuBtnChange(); //calling the function(optional)
  });

  // following are the code to change sidebar button(optional)
  function menuBtnChange() {
   if(sidebar.classList.contains("open")){
     closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
   }else {
     closeBtn.classList.replace("bx-menu-alt-right","bx-menu");//replacing the iocns class
   }
  }

  </script>
 <script>
  onload = () => {
  const c = setTimeout(() => {
    document.body.classList.remove("not-loaded");
    clearTimeout(c);
  }, 1000);
};
 </script>

<script>
  var container=document.getElementsByClassName('container')[0]

var resultContainer=document.getElementById('ResultContainer')

document.getElementById('submit').addEventListener('click',showResults);
var apiKey="a5dbd364b8009e0efd6013a0dabbd1e9"
var city1LatLong,city2LatLong
var nbrMaxOfMosques=20
var listOfImages=[]
for(i=0;i<nbrMaxOfMosques*5;i++)
fetch("https://source.unsplash.com/1600x900/?mosque").then(r=>addImages(r))

function addImages(result){
    listOfImages.push(result.url)
}

function callMosquesApi()
{
    if(city1LatLong!=undefined && city2LatLong!=undefined)
   {
    url='https://api.opentripmap.com/0.1/ru/places/bbox?lon_min='+city1LatLong[1]+'&lat_min='+city1LatLong[0]+'&lon_max='+city2LatLong[1]+'&lat_max='+city2LatLong[0]+'&kinds=mosques&format=geojson&apikey=5ae2e3f221c38a28845f05b642e507377e5261594474e70db33f4cf4'

    fetch(url).then(r=>r.json()).then(x=>FindMosques(x))
   } 
   
}
var mosque=[]
var xid=[]
mosqueIndex=0;
function FindMosques(result)
{
  index=0
for(i in result.features)
{
    var name=result.features[i].properties.name;
    var rate=result.features[i].properties.rate;
    if(rate=='0')
    rate='3'
    var kinds=result.features[i].properties.kinds;
     xid.push(result.features[i].properties.xid);
    if(index<listOfImages.length)
    var image=listOfImages[index]
    index++
   
    var osm=result.features[i].properties.osm;
    var localisationLink="https://www.openstreetmap.org/"+osm
   
     mosque.push('<div><img src="'+image+'" alt=""><p class="description"> المَسْجِد أو الجامع هو دار عبادة المسلمين، وتُقام فيه الصلوات الخمس المفروضة وغيرها، وسمي مسجداً لأنه مكان للسجود لله، ويُطلق على المسجد أيضاً اسم جامع، وخاصةً إذا كان كبيراً، وفي الغالب يُطلق على اسم «جامع» لمن يجمع الناس لأداء صلاة الجمعة فيه فكل جامع مسجد وليس كل مسجد بجامع، كذلك يطلق اسم مصلى بدل من اسم مسجد.</p></div><p class="localisation"><a href="'+localisationLink+'">Voir La localisation Ici</a></p><p>'+rate+'</p>')
    
}

for(id in xid){
    url="https://api.opentripmap.com/0.1/ru/places/xid/"+xid[id]+"?apikey=5ae2e3f221c38a28845f05b642e507377e5261594474e70db33f4cf4"
    fetch(url).then(r=>r.json()).then(r=>getMosqueDetails(r))
}

}
function randomInRange(start,end){
    return Math.floor(Math.random() * (end - start + 1) + start);
}
function getMosqueDetails(result)
{
    mosqueIndex++;
   
var newName=result.name;
if(newName==undefined||newName.length==0)
newName='مسجد'
var city=result.address.city;
city=city==undefined?"":city
var city_district=result.address.city_district;
city_district=city_district==undefined?"":city_district
var country=result.address.country;
country=country== undefined?"":country
var county=result.address.county;
county= county==undefined?"":county
var region=result.address.region;
region=region== undefined?"":region
var state_district=result.address.state_district;
state_district=state_district== undefined?"":state_district
var suburb=result.address.suburb;
suburb=suburb== undefined?"":suburb
var latMosque=result.point.lat;
latMosque=latMosque== undefined?"":latMosque
var lonMosque=result.point.lon;
lonMosque=lonMosque== undefined?"":lonMosque
var nameDetails='<div class="mosque"> <h2>'+newName+'</h2>'
var details='<p><b>Ville</b>'+city+'</p>'+'<p><b>city_district :</b>'+city_district+'</p>'+'<p><b>Pays</b> :'+country+'</p>'+'<p><b>County</b>:'+county+'</p>'+'<p><b>Region :</b>'+region+'</p>'+'<p><b>state_district :</b>'+state_district+'</p>'+'<p><b>suburb :</b>'+suburb+'</p>'+'<p><b>coordonnées géographique </b> <br> <b><i>lat<i>:</b>'+latMosque+'</p>'+'<p><b><i>lat<i>:</b>'+lonMosque+'</p></div>'
var idDivMap="googleMap"+mosqueIndex
var divMap='<div id="'+idDivMap+'" style="width:100%;height:400px;"></div>'
var mosqueParentHtml=document.getElementById("ResultContainer");
if(mosqueIndex<mosque.length)
{
    mosqueParentHtml.innerHTML+=nameDetails+mosque[mosqueIndex]+details
  
}

}

function myMap(lat,lon,id) {
    var mapProp= {
      center:new google.maps.LatLng(lat,lon),
      zoom:5,
    };
    var map = new google.maps.Map(document.getElementById(id),mapProp);
}
var callApi=true;
function showResults()
{
    if(callApi)
    cityToLatLongApi()
 
container.style.display='none';
resultContainer.style.visibility="visible"
callMosquesApi()
}
function cityToLatLongApi()
{
    var city1=document.getElementById("city1").value.trim();
    var city2=document.getElementById("city2").value.trim();
    
    var url="http://api.openweathermap.org/geo/1.0/direct?q="+city1+"&limit=5&appid="+apiKey
fetch(url).then(r=>r.json()).then(x=>getLatLongCity1(x))
url="http://api.openweathermap.org/geo/1.0/direct?q="+city2+"&limit=5&appid="+apiKey
fetch(url).then(r=>r.json()).then(x=>getLatLongCity2(x))

}
function getLatLongCity1(result)
{
    callApi=false;

    city1LatLong=[result[0].lat,result[0].lon]
    showResults()
}
function getLatLongCity2(result)
{
    callApi=false;
    city2LatLong=[result[0].lat,result[0].lon]
showResults()
}
  </script>

  
</body>
</html>
